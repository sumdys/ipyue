app.service("accountModel",["baseModel","apiConfig","$location","$rootScope",function(o,e,n,i){this.pLogin=function(n,i,r){var t=o.structureApiUrl(e.login.phoneLogin);o.request(t,"POST",n,function(o,n,t){n==e.errorCode.success?i(o):r(n,t)})},this.isWeixin=function(){var o=navigator.userAgent.toLowerCase();return"micromessenger"==o.match(/MicroMessenger/i)},this.checkedToken=function(){var r=o.structureApiUrl(e.login.wxLogin)+"?callback="+encodeURIComponent(n.absUrl()),t=localStorage.getItem("token");t||(this.isWeixin()?window.location.href=r:window.location.href=i.urlLabel+"/login?callback="+encodeURIComponent(n.absUrl()))}}]);